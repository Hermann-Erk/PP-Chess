<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_05) on Thu Oct 09 22:29:33 CEST 2014 -->
<title>Board</title>
<meta name="date" content="2014-10-09">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Board";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Board.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/hermann/model/board/Board.html" target="_top">Frames</a></li>
<li><a href="Board.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.hermann.model.board</div>
<h2 title="Class Board" class="title">Class Board</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.hermann.model.board.Board</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Board</span>
extends java.lang.Object
implements java.io.Serializable</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../serialized-form.html#org.hermann.model.board.Board">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/hermann/model/pieces/Piece.html" title="class in org.hermann.model.pieces">Piece</a>[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hermann/model/board/Board.html#board">board</a></span></code>
<div class="block">The board is an 8 by 8 array</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hermann/model/board/Board.html#serialVersionUID">serialVersionUID</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/hermann/model/board/Board.html#Board--">Board</a></span>()</code>
<div class="block">Initializes new chess board (a fresh game) and instances for every piece on the field (the names are put together by their type,
  the starting y-coordinate on the board, the starting x-coordinate on the board, and also their color).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/hermann/model/board/Board.html#Board-org.hermann.model.pieces.Piece:A:A-">Board</a></span>(<a href="../../../../org/hermann/model/pieces/Piece.html" title="class in org.hermann.model.pieces">Piece</a>[][]&nbsp;board)</code>
<div class="block">An additional constructor (will be needed for loading savegames and testing), 
 it would also be possible to initialize a fresh chess board and then change it by the setBoard Method</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../org/hermann/model/pieces/Piece.html" title="class in org.hermann.model.pieces">Piece</a>[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hermann/model/board/Board.html#getBoard--">getBoard</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/hermann/model/pieces/Piece.html" title="class in org.hermann.model.pieces">Piece</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hermann/model/board/Board.html#getBoardPos-int-int-">getBoardPos</a></span>(int&nbsp;posx,
           int&nbsp;posy)</code>
<div class="block">Method for getting a single field rather than getting the whole board</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hermann/model/board/Board.html#isKingInCheck-char-">isKingInCheck</a></span>(char&nbsp;player)</code>
<div class="block">So this method is apparently one of the major issues during any chess game development
  and I was stuck for quite some time figuring out a way to to tell whether the
  current player's King is in check or not.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hermann/model/board/Board.html#setBoard-org.hermann.model.pieces.Piece:A:A-">setBoard</a></span>(<a href="../../../../org/hermann/model/pieces/Piece.html" title="class in org.hermann.model.pieces">Piece</a>[][]&nbsp;newBoard)</code>
<div class="block">So I'll have to modify this setter a little due to some reference problems,
  apparently the <code>.clone()</code> method for arrays doesn't copy the <code>Piece[][]</code> array
  for some reason</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hermann/model/board/Board.html#setBoardPos-int-int-org.hermann.model.pieces.Piece-">setBoardPos</a></span>(int&nbsp;posx,
           int&nbsp;posy,
           <a href="../../../../org/hermann/model/pieces/Piece.html" title="class in org.hermann.model.pieces">Piece</a>&nbsp;piece)</code>
<div class="block">Method for setting a specific field rather than updating the whole board</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hermann/model/board/Board.html#showBoard--">showBoard</a></span>()</code>
<div class="block">Method to show the current state of the board in ASCII (console)
  (mainly for debugging purposes)</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="serialVersionUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialVersionUID</h4>
<pre>private static final&nbsp;long serialVersionUID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.hermann.model.board.Board.serialVersionUID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="board">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>board</h4>
<pre>private&nbsp;<a href="../../../../org/hermann/model/pieces/Piece.html" title="class in org.hermann.model.pieces">Piece</a>[][] board</pre>
<div class="block">The board is an 8 by 8 array</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Board--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Board</h4>
<pre>public&nbsp;Board()</pre>
<div class="block">Initializes new chess board (a fresh game) and instances for every piece on the field (the names are put together by their type,
  the starting y-coordinate on the board, the starting x-coordinate on the board, and also their color).<p>
  
  Problem: If I want to set up the board in the constructor as shown below, the x and y coordinates will be swapped
  (board[6][3] would actually address the pawn p63w in the 6th row and the 3rd column (counting the 0th row/column as well)),
  so I'll have to be very careful not to mix up the x and y coordinate in methods which interact with the board.</div>
</li>
</ul>
<a name="Board-org.hermann.model.pieces.Piece:A:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Board</h4>
<pre>public&nbsp;Board(<a href="../../../../org/hermann/model/pieces/Piece.html" title="class in org.hermann.model.pieces">Piece</a>[][]&nbsp;board)</pre>
<div class="block">An additional constructor (will be needed for loading savegames and testing), 
 it would also be possible to initialize a fresh chess board and then change it by the setBoard Method</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="showBoard--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>showBoard</h4>
<pre>public&nbsp;void&nbsp;showBoard()</pre>
<div class="block">Method to show the current state of the board in ASCII (console)
  (mainly for debugging purposes)</div>
</li>
</ul>
<a name="isKingInCheck-char-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isKingInCheck</h4>
<pre>public&nbsp;boolean&nbsp;isKingInCheck(char&nbsp;player)</pre>
<div class="block">So this method is apparently one of the major issues during any chess game development
  and I was stuck for quite some time figuring out a way to to tell whether the
  current player's King is in check or not.<p>
  First I wanted to integrate the <code>.isKingInCheck</code> method into the <code>.isMoveValid</code>
  methods, which every Piece has (because only a move that leaves your King in an
  "unchecked" situation is a valid move). My idea was to scan the board and use the
  <code>.getValidMoves</code> method (implemented in the abstract Piece class) on every enemy piece
  and then check whether the King is standing on one of those fields or not.<p>
  
  However,
  in the worst case scenario the <code>.isKingInCheck</code> method would have to use <code>getValidMoves</code>
  16 times (for every enemy Piece) and create 16 Arraylists, also comparing them to the
  Kings location.<p>
  
  And even worse,
  since the <code>.getValidMoves</code> method uses the <code>.isMoveValid</code> method (which was meant to contain
  <code>isKingInCheck</code> in the first place) this would have led to an infinite loop<p>
  
  Example: In order to check, whether the white Rook is allowed to move to a certain destination
                 we have to check if he puts the white King into check. Therefore we create an arraylist
                 of possible moves for every black Piece. In order to know which of their moves is valid
                 we have to check whether their moves would put the black King in check.
                 Again, we would use the isKingInCheck method to see, if the black King would be in check
                 focusing on all white pieces, creating an infinite amount of arraylists.<p> 
  
  But I think I found a rather acceptable solution:<p>
  
  Instead of implementing isKingInCheck in isMoveValid and/or scanning the whole board for enemy Pieces 
  we simply focus on the Kings location and use all of our isMoveValid methods to see whether there are
  matching enemy Pieces in range<p>
  
  Example: To see if the white King is put in check by a rook we take the Kings current location and
                 simulate the movement of a Rook standing on the same field as the King (from the Kings viewpoint).
                 Then we can easily use the getValidMoves method to create an arraylist of all "dangerous" spots.
                 If there is a black Rook on any of these fields, the white King is in check.<p>
  
  We repeat the procedure for every type of piece in the game. (Optional:To make it more efficient we could first
  check if there are even any Pieces of a certain kind on the board, if there are no black rooks left the white
  King can't be put in check by a rook, so we don't have to bear with an additional arraylist. I don't really
  think it makes that much of a difference though, it's hard for me to decide if the computer is capable of that
  amount of calculation, but if it's able to repaint the OceanLife GUI 24 times in a second it should probably
  be able to do a lot of basic math operations)<p>
  NOTE: For most Pieces their color doesn't affect the movement pattern, for the Pawn it does. I have to watch 
          out so the King isn't put into check by an enemy Pawn that is standing behind him. (The King has to 
          simulate his own color's Pawn!)<p>
  
  
  Anyway, here comes the weird part about this solution:
  Since we have only one board that knows all the Pieces' locations, we can't simply create a "what if"-scenario 
  without the possible loss of information, unless we clone the board and simulate the move on this "new" board<p>
  
  Example: We want to know if the white Pawn is allowed to capture the black Rook. In order to do that we have
                 to put the Pawn on the Rook's position and then check if it affects the King. If it does put the white
                 King in check the move is invalid, the former gamestate has to be restored to resume the game properly.
                 Unfortunately, this is not possible since we have overwritten the position on the board and no longer
                 know who's been there before.
                         NOTE: I just noticed that it would be possible to copy the information on the destination field to
                                   restore the game state afterwards. I'll keep that in mind but it seems kind of unsafe to me.<p>               
 
 I know this problem could probably be solved if every Piece knew its own location, but also letting the Pieces
 know their position would be my last resort. I'd like to keep up the separation between the Pieces, which know
 their movement patterns and the board, that knows their positions. Redundant positioning information will only
 overcomplicate things and will certainly lead to data inconsistency. Also, the <code>ChessGUI</code> can be based off almost only
 the board rather than to cope with every single Piece.<p>
 
 Another odd thing is that in the <code>isKingInCheck</code> method I'll have to create "dummy" Pieces to use <code>isMoveValid</code> on
 since there is no way to tell if there is a Piece like that on the board and  we need an object to use the 
 method on. It would be more convenient to have an <code>isMoveValid</code> method that expects the type of Piece as an 
 argument and then tell us if the move is valid for that specific type of Piece, but that would require us to
 put all isMoveValid methods into the Board class, which would make it way too big and also break the separation
 between Pieces and the Board.<p>
 
 Note to myself: Don't ever call this method in <code>.isMoveValid</code> !!! (=> Stackoverflow)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>player</code> - The method needs to know whose players turn it is.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A boolean that shows if the king is in check or not.</dd>
</dl>
</li>
</ul>
<a name="getBoard--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBoard</h4>
<pre>public&nbsp;<a href="../../../../org/hermann/model/pieces/Piece.html" title="class in org.hermann.model.pieces">Piece</a>[][]&nbsp;getBoard()</pre>
</li>
</ul>
<a name="setBoard-org.hermann.model.pieces.Piece:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBoard</h4>
<pre>public&nbsp;void&nbsp;setBoard(<a href="../../../../org/hermann/model/pieces/Piece.html" title="class in org.hermann.model.pieces">Piece</a>[][]&nbsp;newBoard)</pre>
<div class="block">So I'll have to modify this setter a little due to some reference problems,
  apparently the <code>.clone()</code> method for arrays doesn't copy the <code>Piece[][]</code> array
  for some reason</div>
</li>
</ul>
<a name="setBoardPos-int-int-org.hermann.model.pieces.Piece-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBoardPos</h4>
<pre>public&nbsp;void&nbsp;setBoardPos(int&nbsp;posx,
                        int&nbsp;posy,
                        <a href="../../../../org/hermann/model/pieces/Piece.html" title="class in org.hermann.model.pieces">Piece</a>&nbsp;piece)</pre>
<div class="block">Method for setting a specific field rather than updating the whole board</div>
</li>
</ul>
<a name="getBoardPos-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getBoardPos</h4>
<pre>public&nbsp;<a href="../../../../org/hermann/model/pieces/Piece.html" title="class in org.hermann.model.pieces">Piece</a>&nbsp;getBoardPos(int&nbsp;posx,
                         int&nbsp;posy)</pre>
<div class="block">Method for getting a single field rather than getting the whole board</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Board.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/hermann/model/board/Board.html" target="_top">Frames</a></li>
<li><a href="Board.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
